# ğŸ FastAPI Backend

ìµœì‹  **Modern Python** ìŠ¤íƒìœ¼ë¡œ êµ¬ì„±ëœ FastAPI ë°±ì—”ë“œì…ë‹ˆë‹¤.
`pip`ì™€ `requirements.txt` ëŒ€ì‹  **`uv`**ì™€ **`pyproject.toml`**ì„ ì‚¬ìš©í•˜ì—¬ Node.jsì™€ ìœ ì‚¬í•œ ì¾Œì í•œ ê°œë°œ ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)

- **Framework**: FastAPI
- **Language**: Python 3.12+
- **Database**: SQLite (SQLModel ORM)
- **Package Manager**: uv
- **Server**: Uvicorn (via `fastapi-cli`)

## ğŸ“‚ í´ë” êµ¬ì¡° (Structure)

```bash
apps/api/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ core/           # âš™ï¸ ì„¤ì • (DB, Config)
â”‚   â”œâ”€â”€ routers/        # ğŸ›£ï¸ API ì—”ë“œí¬ì¸íŠ¸ (Controller)
â”‚   â”œâ”€â”€ schemas/        # ğŸ“¦ ë°ì´í„° ëª¨ë¸ (DB Table & Pydantic)
â”‚   â””â”€â”€ main.py         # ğŸ ì§„ì…ì  & Lifespan
â”œâ”€â”€ database.db         # ğŸ—„ï¸ SQLite ë°ì´í„°ë² ì´ìŠ¤ (ìë™ìƒì„±)
â”œâ”€â”€ pyproject.toml      # ğŸ“¦ ì˜ì¡´ì„± ë° í”„ë¡œì íŠ¸ ì„¤ì •
â””â”€â”€ uv.lock             # ğŸ”’ ì˜ì¡´ì„± ì ê¸ˆ íŒŒì¼
```

## ğŸš€ ê°œë°œ ê°€ì´ë“œ (Development Guide)

### 1. ì„œë²„ ì‹¤í–‰

Rootì—ì„œ `pnpm dev`ë¥¼ ì‹¤í–‰í•˜ë©´ ìë™ìœ¼ë¡œ ì¼œì§€ì§€ë§Œ, ë°±ì—”ë“œë§Œ ë”°ë¡œ ì‘ì—…í•˜ê³  ì‹¶ë‹¤ë©´:

```bash
# apps/api í´ë”ì—ì„œ
uv run fastapi dev app/main.py
```

### 2. ìƒˆ API ì¶”ê°€ ë°©ë²•

1. **ëª¨ë¸ ì •ì˜**: `app/schemas/`ì— ìƒˆë¡œìš´ ëª¨ë¸(í…Œì´ë¸”) ì¶”ê°€
2. **ë¼ìš°í„° ìƒì„±**: `app/routers/`ì— ìƒˆë¡œìš´ ë¼ìš°í„° íŒŒì¼ ìƒì„± (`ex. posts.py`)
3. **ë¼ìš°í„° ë“±ë¡**: `app/main.py`ì— `app.include_router(...)` ì¶”ê°€
4. **SDK ê°±ì‹ **: Rootì—ì„œ `pnpm gen` ì‹¤í–‰í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œì— ì „íŒŒ

### 3. ë°ì´í„°ë² ì´ìŠ¤ (SQLite)

- **ì„¤ì •**: `app/core/db.py`
- **í…Œì´ë¸” ìƒì„±**: `app/main.py`ì˜ `lifespan` í•¨ìˆ˜ì—ì„œ ì•± ì‹œì‘ ì‹œ ìë™ ìƒì„±ë©ë‹ˆë‹¤ (`create_db_and_tables`).
- **DB ì´ˆê¸°í™”**: ë°ì´í„°ë¥¼ ë‹¤ ë‚ ë¦¬ê³  ì‹¶ìœ¼ë©´ ê·¸ëƒ¥ `database.db` íŒŒì¼ì„ ì‚­ì œí•˜ê³  ì„œë²„ë¥¼ ì¬ì‹œì‘í•˜ì„¸ìš”.

### 4. íŒ¨í‚¤ì§€ ê´€ë¦¬ (`uv` cheatsheet)

| ì‘ì—…          | ëª…ë ¹ì–´             | ì„¤ëª…                                 |
| ------------- | ------------------ | ------------------------------------ |
| íŒ¨í‚¤ì§€ ì„¤ì¹˜   | `uv add <ì´ë¦„>`    | `npm install`ê³¼ ë™ì¼                 |
| íŒ¨í‚¤ì§€ ì‚­ì œ   | `uv remove <ì´ë¦„>` | `npm uninstall`ê³¼ ë™ì¼               |
| ì „ì²´ ì„¤ì¹˜     | `uv sync`          | `npm install` (lockíŒŒì¼ ê¸°ì¤€ ë™ê¸°í™”) |
| ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ | `uv run <ëª…ë ¹ì–´>`  | ê°€ìƒí™˜ê²½ ë‚´ì—ì„œ ëª…ë ¹ì–´ ì‹¤í–‰          |

---

## âœ… ì£¼ìš” í¬ì¸íŠ¸ (Key Concepts)

- **SQLModel**: Pydantic ëª¨ë¸ê³¼ SQLAlchemy í…Œì´ë¸”ì„ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ë¡œ ì •ì˜í•©ë‹ˆë‹¤. (`table=True` ì˜µì…˜ìœ¼ë¡œ êµ¬ë¶„)
- **Dependency Injection**: DB ì„¸ì…˜ì€ `SessionDep`ì„ í†µí•´ ì£¼ì…ë°›ìŠµë‹ˆë‹¤. (`auth` ë“±ë„ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ ê°€ëŠ¥)
- **Auto Docs**: ì„œë²„ ì‹¤í–‰ í›„ `/docs` (Swagger UI) ë˜ëŠ” `/redoc`ì— ì ‘ì†í•˜ì—¬ ë¬¸ì„œë¥¼ í™•ì¸í•˜ì„¸ìš”.
